"use strict";!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("handlebars")):"function"==typeof define&&define.amd?define(["jquery","handlebars"],e):e(t.jQuery,t.window)}(window,function(s,u){(s=s&&s.hasOwnProperty("default")?s.default:s).fn.checklist=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if("string"==typeof e[0]){var n=c[e[0]];if("function"==typeof n)return n.apply(this,Array.prototype.slice.call(e,1));console.error(e[0]+" is not a function.")}else l.apply(this,e)};var d=0,l=function(o){this.each(function(t,e){var n=s.extend({template:'<div class="ckl-container">\n{{#if opts.actionsBox}}\n<div ckl-actions>\n\t{{#if multiple}}\n\t<button type="button" ckl-select-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{opts.selectAllText}}</button>\n\t{{/if}}\n\t<button type="button" ckl-deselect-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{#if multiple}}{{opts.deselectAllText}}{{else}}{{opts.deselectText}}{{/if}}</button>\n</div>\n{{/if}}\n<ul>\n\t{{#each items}}\n\t<li ckl-item>\n\t\t<input ckl-input value="{{value}}" name="{{../inputName}}" type="{{../inputType}}" {{#if ../disabled}}disabled{{/if}}/>\n\t\t{{text}}\n\t</li>\n\t{{/each}}\n</ul>\n</div>',selectAllText:"Select All",deselectAllText:"Deselect All",deselectText:"Deselect"},o),l=s(e),i=l.prop("multiple"),c=l.attr("name")||"_ckl_"+d;d++,l.removeAttr("name").hide();var a={opts:n,multiple:i,inputType:i?"checkbox":"radio",inputName:c,disabled:l.prop("disabled")};(n.hasOwnProperty("ajax")?"function"==typeof n.ajax?n.ajax():new Promise(function(t,e){s.ajax(n.ajax).done(t).fail(e)}):Promise.resolve(l.find("option").map(function(t,e){var i=s(e);return{value:i.attr("value"),text:i.text()}}).toArray())).then(function(t){a.items=t;var e=u.Handlebars.compile(n.template)(a),i=s(e);l.after(i),l[0]._ckl_ctx=s.extend({$ele:i},a),i.find("[ckl-select-all]").click(function(){i.find("input:radio,input:checkbox").prop("checked",!0)}),i.find("[ckl-deselect-all]").click(function(){i.find("input:radio,input:checkbox").prop("checked",!1)})})})},c={selectAll:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!0)},deselectAll:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!1)},disable:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!0)},enable:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!1)},getValue:function(){this._ckl_ctx&&this._ckl_ctx.$ele.inputVal()[this._ckl_ctx.inputName]},setValue:function(t){if(this._ckl_ctx){var e={};e[this._ckl_ctx.inputName]=t,this._ckl_ctx.$ele.inputVal(e)}}}});
