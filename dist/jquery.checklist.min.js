"use strict";!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("handlebars")):"function"==typeof define&&define.amd?define(["jquery","handlebars"],e):e(t.jQuery,t.window)}(window,function(s,u){(s=s&&s.hasOwnProperty("default")?s.default:s).fn.checklist=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if("string"==typeof e[0]){var l=c[e[0]];if("function"==typeof l)return l.apply(this,Array.prototype.slice.call(e,1));console.error(e[0]+" is not a function.")}else n.apply(this,e)},s.checklist={defaultTemplate:'<div class="ckl-container">\n\t{{#if opts.actionsBox}}\n\t<div ckl-actions>\n\t\t{{#if multiple}}\n\t\t<button type="button" ckl-select-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{opts.selectAllText}}</button>\n\t\t{{/if}}\n\t\t<button type="button" ckl-deselect-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{#if multiple}}{{opts.deselectAllText}}{{else}}{{opts.deselectText}}{{/if}}</button>\n\t</div>\n\t{{/if}}\n\t<ul>\n\t\t{{#each items}}\n\t\t<li ckl-item>\n\t\t\t<input ckl-input value="{{value}}" name="{{../inputName}}" type="{{../inputType}}" {{#if ../disabled}}disabled{{/if}}/>\n\t\t\t{{text}}\n\t\t</li>\n\t\t{{/each}}\n\t</ul>\n\t</div>'};var d=0,n=function(o){this.each(function(t,e){var l=s.extend({template:s.checklist.defaultTemplate,selectAllText:"Select All",deselectAllText:"Deselect All",deselectText:"Deselect"},o),n=s(e),i=n.prop("multiple"),c=n.attr("name")||"_ckl_"+d;d++,n.removeAttr("name").hide();var a={opts:l,multiple:i,inputType:i?"checkbox":"radio",inputName:c,disabled:n.prop("disabled")};(l.hasOwnProperty("ajax")?"function"==typeof l.ajax?l.ajax():new Promise(function(t,e){s.ajax(l.ajax).done(t).fail(e)}):Promise.resolve(n.find("option").map(function(t,e){var i=s(e);return{value:i.attr("value"),text:i.text()}}).toArray())).then(function(t){a.items=t;var e=u.Handlebars.compile(l.template)(a),i=s(e);n.after(i),n[0]._ckl_ctx=s.extend({$ele:i},a),i.find("[ckl-select-all]").click(function(){i.find("input:radio,input:checkbox").prop("checked",!0)}),i.find("[ckl-deselect-all]").click(function(){i.find("input:radio,input:checkbox").prop("checked",!1)})})})},c={selectAll:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!0)},deselectAll:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!1)},disable:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!0)},enable:function(){this._ckl_ctx&&this._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!1)},getValue:function(){this._ckl_ctx&&this._ckl_ctx.$ele.inputVal()[this._ckl_ctx.inputName]},setValue:function(t){if(this._ckl_ctx){var e={};e[this._ckl_ctx.inputName]=t,this._ckl_ctx.$ele.inputVal(e)}}}});
