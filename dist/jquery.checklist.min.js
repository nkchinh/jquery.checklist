"use strict";!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("handlebars")):"function"==typeof define&&define.amd?define(["jquery","handlebars"],e):e(t.jQuery,t.window)}(window,function(u,r){(u=u&&u.hasOwnProperty("default")?u.default:u).fn.checklist=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if("string"==typeof e[0]){var i=c[e[0]];if("function"==typeof i)return i.apply(this,Array.prototype.slice.call(e,1));console.error(e[0]+" is not a function.")}else l.apply(this,e)},u.checklist={defaultTemplate:'<div class="ckl-container">\n\t{{#if opts.actionsBox}}\n\t<div ckl-actions>\n\t\t{{#if multiple}}\n\t\t<button type="button" ckl-select-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{opts.selectAllText}}</button>\n\t\t{{/if}}\n\t\t<button type="button" ckl-deselect-all class="btn btn-default" {{#if disabled}}disabled{{/if}}>{{#if multiple}}{{opts.deselectAllText}}{{else}}{{opts.deselectText}}{{/if}}</button>\n\t</div>\n\t{{/if}}\n\t<ul>\n\t\t{{#each items}}\n\t\t<li ckl-item>\n\t\t\t<input ckl-input value="{{value}}" name="{{../inputName}}" type="{{../inputType}}" {{#if ../disabled}}disabled{{/if}}/>\n\t\t\t{{text}}\n\t\t</li>\n\t\t{{/each}}\n\t</ul>\n\t</div>'};var d=0,l=function(o){this.each(function(t,e){var i=u.extend({template:u.checklist.defaultTemplate,selectAllText:"Select All",deselectAllText:"Deselect All",deselectText:"Deselect"},o),l=u(e),n=l.prop("multiple"),c=l.attr("name")||"_ckl_"+d;d++,l.removeAttr("name").hide();var a={opts:i,multiple:n,inputType:n?"checkbox":"radio",inputName:c,disabled:l.prop("disabled")};(i.hasOwnProperty("ajax")?"function"==typeof i.ajax?i.ajax():new Promise(function(t,e){u.ajax(i.ajax).done(t).fail(e)}):Promise.resolve(l.find("option").map(function(t,e){var n=u(e);return{value:n.attr("value"),text:n.text()}}).toArray())).then(function(t){a.items=t;var e=r.Handlebars.compile(i.template)(a),n=u(e);l.after(n),l[0]._ckl_ctx=u.extend({$ele:n},a),n.find("[ckl-select-all]").click(function(){n.find("input:radio,input:checkbox").prop("checked",!0)}),n.find("[ckl-deselect-all]").click(function(){n.find("input:radio,input:checkbox").prop("checked",!1)})})})},c={selectAll:function(){return this.each(function(t,e){e._ckl_ctx&&e._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!0)}),this},deselectAll:function(){return this.each(function(t,e){e._ckl_ctx&&e._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("checked",!1)}),this},disable:function(){return this.each(function(t,e){e._ckl_ctx&&e._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!0)}),this},enable:function(){return this.each(function(t,e){e._ckl_ctx&&e._ckl_ctx.$ele.find("input:radio,input:checkbox").prop("disabled",!1)}),this},getValue:function(){var t=this[0];if(t)return t._ckl_ctx?t._ckl_ctx.$ele.inputVal()[t._ckl_ctx.inputName]:void 0},setValue:function(i){return this.each(function(t,e){if(e._ckl_ctx){var n={};n[e._ckl_ctx.inputName]=i,e._ckl_ctx.$ele.inputVal(n)}}),this}}});
